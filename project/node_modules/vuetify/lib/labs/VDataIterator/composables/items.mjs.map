{"version":3,"file":"items.mjs","names":["computed","getPropertyFromItem","propsFactory","makeDataIteratorItemProps","items","type","Array","default","itemValue","String","Function","returnObject","Boolean","transformItem","props","item","value","raw","transformItems","array","push","useDataIteratorItems"],"sources":["../../../../src/labs/VDataIterator/composables/items.ts"],"sourcesContent":["// Utilities\nimport { computed } from 'vue'\nimport { getPropertyFromItem, propsFactory } from '@/util'\n\n// Types\nimport type { GroupableItem } from '@/labs/VDataTable/composables/group'\nimport type { PropType } from 'vue'\nimport type { SelectItemKey } from '@/util'\n\nexport interface DataIteratorItemProps {\n  items: any[]\n  itemValue: SelectItemKey\n  returnObject: boolean\n}\n\nexport interface DataIteratorItem<T = any> extends GroupableItem<T> {\n  value: unknown\n}\n\n// Composables\nexport const makeDataIteratorItemProps = propsFactory({\n  items: {\n    type: Array as PropType<DataIteratorItemProps['items']>,\n    default: () => ([]),\n  },\n  itemValue: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'value',\n  },\n  returnObject: Boolean,\n}, 'v-data-iterator-item')\n\nexport function transformItem (\n  props: Omit<DataIteratorItemProps, 'items'>,\n  item: any\n): DataIteratorItem {\n  const value = props.returnObject ? item : getPropertyFromItem(item, props.itemValue)\n\n  return {\n    type: 'item',\n    value,\n    raw: item,\n  }\n}\n\nexport function transformItems (\n  props: Omit<DataIteratorItemProps, 'items'>,\n  items: DataIteratorItemProps['items']\n) {\n  const array: DataIteratorItem[] = []\n\n  for (const item of items) {\n    array.push(transformItem(props, item))\n  }\n\n  return array\n}\n\nexport function useDataIteratorItems (props: DataIteratorItemProps) {\n  const items = computed(() => transformItems(props, props.items))\n\n  return { items }\n}\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,QAAQ,KAAK;AAAA,SACrBC,mBAAmB,EAAEC,YAAY,mCAE1C;AAeA;AACA,OAAO,MAAMC,yBAAyB,GAAGD,YAAY,CAAC;EACpDE,KAAK,EAAE;IACLC,IAAI,EAAEC,KAAiD;IACvDC,OAAO,EAAEA,CAAA,KAAO;EAClB,CAAC;EACDC,SAAS,EAAE;IACTH,IAAI,EAAE,CAACI,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IAC1DH,OAAO,EAAE;EACX,CAAC;EACDI,YAAY,EAAEC;AAChB,CAAC,EAAE,sBAAsB,CAAC;AAE1B,OAAO,SAASC,aAAaA,CAC3BC,KAA2C,EAC3CC,IAAS,EACS;EAClB,MAAMC,KAAK,GAAGF,KAAK,CAACH,YAAY,GAAGI,IAAI,GAAGd,mBAAmB,CAACc,IAAI,EAAED,KAAK,CAACN,SAAS,CAAC;EAEpF,OAAO;IACLH,IAAI,EAAE,MAAM;IACZW,KAAK;IACLC,GAAG,EAAEF;EACP,CAAC;AACH;AAEA,OAAO,SAASG,cAAcA,CAC5BJ,KAA2C,EAC3CV,KAAqC,EACrC;EACA,MAAMe,KAAyB,GAAG,EAAE;EAEpC,KAAK,MAAMJ,IAAI,IAAIX,KAAK,EAAE;IACxBe,KAAK,CAACC,IAAI,CAACP,aAAa,CAACC,KAAK,EAAEC,IAAI,CAAC,CAAC;EACxC;EAEA,OAAOI,KAAK;AACd;AAEA,OAAO,SAASE,oBAAoBA,CAAEP,KAA4B,EAAE;EAClE,MAAMV,KAAK,GAAGJ,QAAQ,CAAC,MAAMkB,cAAc,CAACJ,KAAK,EAAEA,KAAK,CAACV,KAAK,CAAC,CAAC;EAEhE,OAAO;IAAEA;EAAM,CAAC;AAClB"}