{"version":3,"file":"items.mjs","names":["computed","getPropertyFromItem","propsFactory","makeDataTableItemProps","items","type","Array","default","itemValue","String","Function","returnObject","Boolean","transformItem","props","item","columns","value","itemColumns","reduce","obj","column","key","raw","transformItems","array","push","useDataTableItems"],"sources":["../../../../src/labs/VDataTable/composables/items.ts"],"sourcesContent":["// Utilities\nimport { computed } from 'vue'\nimport { getPropertyFromItem, propsFactory } from '@/util'\n\n// Types\nimport type { PropType, Ref } from 'vue'\nimport type { SelectItemKey } from '@/util'\nimport type { DataTableItem, InternalDataTableHeader } from '../types'\n\nexport interface DataTableItemProps {\n  items: any[]\n  itemValue: SelectItemKey\n  returnObject: boolean\n}\n\n// Composables\nexport const makeDataTableItemProps = propsFactory({\n  items: {\n    type: Array as PropType<DataTableItemProps['items']>,\n    default: () => ([]),\n  },\n  itemValue: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'value',\n  },\n  returnObject: Boolean,\n}, 'v-data-table-item')\n\nexport function transformItem (\n  props: Omit<DataTableItemProps, 'items'>,\n  item: any,\n  columns: InternalDataTableHeader[]\n): DataTableItem {\n  const value = props.returnObject ? item : getPropertyFromItem(item, props.itemValue)\n  const itemColumns = columns.reduce((obj, column) => {\n    obj[column.key] = getPropertyFromItem(item, column.value ?? column.key)\n    return obj\n  }, {} as Record<string, unknown>)\n\n  return {\n    type: 'item',\n    value,\n    columns: itemColumns,\n    raw: item,\n  }\n}\n\nexport function transformItems (\n  props: Omit<DataTableItemProps, 'items'>,\n  items: DataTableItemProps['items'],\n  columns: InternalDataTableHeader[]\n) {\n  const array: DataTableItem[] = []\n\n  for (const item of items) {\n    array.push(transformItem(props, item, columns))\n  }\n\n  return array\n}\n\nexport function useDataTableItems (props: DataTableItemProps, columns: Ref<InternalDataTableHeader[]>) {\n  const items = computed(() => transformItems(props, props.items, columns.value))\n\n  return { items }\n}\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,QAAQ,KAAK;AAAA,SACrBC,mBAAmB,EAAEC,YAAY,mCAE1C;AAWA;AACA,OAAO,MAAMC,sBAAsB,GAAGD,YAAY,CAAC;EACjDE,KAAK,EAAE;IACLC,IAAI,EAAEC,KAA8C;IACpDC,OAAO,EAAEA,CAAA,KAAO;EAClB,CAAC;EACDC,SAAS,EAAE;IACTH,IAAI,EAAE,CAACI,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IAC1DH,OAAO,EAAE;EACX,CAAC;EACDI,YAAY,EAAEC;AAChB,CAAC,EAAE,mBAAmB,CAAC;AAEvB,OAAO,SAASC,aAAaA,CAC3BC,KAAwC,EACxCC,IAAS,EACTC,OAAkC,EACnB;EACf,MAAMC,KAAK,GAAGH,KAAK,CAACH,YAAY,GAAGI,IAAI,GAAGd,mBAAmB,CAACc,IAAI,EAAED,KAAK,CAACN,SAAS,CAAC;EACpF,MAAMU,WAAW,GAAGF,OAAO,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;IAClDD,GAAG,CAACC,MAAM,CAACC,GAAG,CAAC,GAAGrB,mBAAmB,CAACc,IAAI,EAAEM,MAAM,CAACJ,KAAK,IAAII,MAAM,CAACC,GAAG,CAAC;IACvE,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAA4B;EAEjC,OAAO;IACLf,IAAI,EAAE,MAAM;IACZY,KAAK;IACLD,OAAO,EAAEE,WAAW;IACpBK,GAAG,EAAER;EACP,CAAC;AACH;AAEA,OAAO,SAASS,cAAcA,CAC5BV,KAAwC,EACxCV,KAAkC,EAClCY,OAAkC,EAClC;EACA,MAAMS,KAAsB,GAAG,EAAE;EAEjC,KAAK,MAAMV,IAAI,IAAIX,KAAK,EAAE;IACxBqB,KAAK,CAACC,IAAI,CAACb,aAAa,CAACC,KAAK,EAAEC,IAAI,EAAEC,OAAO,CAAC,CAAC;EACjD;EAEA,OAAOS,KAAK;AACd;AAEA,OAAO,SAASE,iBAAiBA,CAAEb,KAAyB,EAAEE,OAAuC,EAAE;EACrG,MAAMZ,KAAK,GAAGJ,QAAQ,CAAC,MAAMwB,cAAc,CAACV,KAAK,EAAEA,KAAK,CAACV,KAAK,EAAEY,OAAO,CAACC,KAAK,CAAC,CAAC;EAE/E,OAAO;IAAEb;EAAM,CAAC;AAClB"}